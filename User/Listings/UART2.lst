C51 COMPILER V9.60.7.0   UART2                                                             11/29/2024 17:30:56 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE UART2
OBJECT MODULE PLACED IN .\Objects\UART2.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\Hardware\UART2.C OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Hardware) DEBUG O
                    -BJECTEXTEND PRINT(.\Listings\UART2.lst) TABS(2) OBJECT(.\Objects\UART2.obj)

line level    source

   1          #include <STC12C5A60S2.H>
   2          #include <stdio.h>
   3          #include "UART2.H"
   4          
   5          void Uart2_Init(void) //9600bps@11.0592MHz
   6          {
   7   1        AUXR &= 0xF7;   //波特率不倍速
   8   1        S2CON = 0x50;   //8位数据,可变波特率
   9   1        AUXR &= 0xFB;   //定时器时钟12T模式
  10   1        BRT = 0xFD;     //设置定时重载值
  11   1        AUXR |= 0x10;   //启动独立波特率发射器
  12   1        IE2 |= 0x01;    //使能串口2中断
  13   1      }
  14          
  15          //向串口发送一个字符
  16          void Uart2_SendByte(unsigned char dat)
  17          {
  18   1        while (busy2);
  19   1        ACC = dat;
  20   1        busy2 = 1;
  21   1        S2BUF = ACC;
  22   1      }
  23          
  24          //向串口发送一段字符串
  25          void Uart2_SendString(unsigned char *dat)
  26          {
  27   1        unsigned char i= 0;
  28   1        
  29   1        for(i = 0;dat[i]!='\0';i++){Uart2_SendByte(dat[i]);}
  30   1        if(dat[i]=='\0')Uart2_SendByte('\0');
  31   1      }
  32          
  33          // 串口2发送16进制数据数组
  34          void UART2_SendHex(const unsigned char* hexData, unsigned char length)
  35          {
  36   1        unsigned char i;
  37   1        for (i = 0; i < length; i++)
  38   1        {
  39   2          Uart2_SendByte(hexData[i]);
  40   2        }
  41   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    117    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
